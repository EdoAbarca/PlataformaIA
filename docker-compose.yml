version: "3.8"
services:
  postgres:
    image: postgres:13
    container_name: postgres
    restart: always
    env_file:
      - ./nest-backend/.env
    environment:
      TZ: "America/Santiago"
    ports:
      - "5432:5432"
    networks:
      - ia_network
    volumes:
      - postgres_data:/var/lib/postgresql/data
  backend:
    image: docker.io/eddindocker/nest-backend
    ports:
      - "3333:3333"
    depends_on:
      - postgres
    networks:
      - ia_network
    env_file:
      - ./nest-backend/.env
  frontend:
    image: docker.io/eddindocker/react-frontend
    ports:
      - "5173:5173"
    depends_on:
      - backend
      - postgres
    networks:
      - ia_network
  #fast-detect-gpt:
  #  image: docker.io/eddindocker/fast-detect-gpt
  #  container_name: fast-detect-gpt
  #  ports:
  #    - "8001:8001"
  #  networks:
  #    - ia_network
  #lm-watermarking:
  #  image: docker.io/eddindocker/lm-watermarking
  #  container_name: lm-watermarking
  #  ports:
  #    - "8002:8002"
  #  networks:
  #    - ia_network
  #finetuned-debertav3:
  #  image: docker.io/eddindocker/finetuned-debertav3
  #  container_name: finetuned-debertav3
  #  ports:
  #    - "8003:8003"
  #  networks:
  #    - ia_network

networks:
  ia_network:

volumes:
  postgres_data: